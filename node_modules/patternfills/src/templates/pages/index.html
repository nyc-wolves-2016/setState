<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Pattern fills - samples.</title>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.2/d3.min.js"></script>
    <link rel="stylesheet" href="patterns.css">

    <style type="text/css">
      body {
        font-family: Raleway, Open Sans, Helvetica, sans-serif;
        max-width: 980px;
        margin: 0 auto;
        padding: 50px;
      }
      a {
        color: #2E84C9;
      }
      a:hover {
        color: #165487;
      }
      .info {
        background-color: #eee;
        padding: 10px;
        font-family: monospace;
      }
      #header_samples {
        width: 100%;
        display: inline-block;
      }
      #header_samples .sample {
        width: 10%;
        height: 50px;
        display: inline-block;
        float:left;
      }
      ul {

      }

      li {
        margin-bottom:10px;
      }

      code {
        padding: 2px;
        padding-left:5px;
        padding-right:5px;
        background-color: #eee;
      }

      /* custom css classes to show color changes */

      .samples {
        width: 100%;
        display: inline-block;
      }
      .sample {
        display: inline-block;
        height: 100px;
        width: 100px;
        float: left;
        margin-right: 10px;
      }
      .cust-circles-1 { background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPSJyZWQiIC8+CiAgPGNpcmNsZSBjeD0iMSIgY3k9IjEiIHI9IjEiIGZpbGw9IiMwMDAiLz4KPC9zdmc+"); background-repeat: repeat; }

      .cust-vertical-stripe-1 { background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPScjQ0ZDQ0EzJyAvPgogIDxyZWN0IHg9JzAnIHk9JzAnIHdpZHRoPScxJyBoZWlnaHQ9JzEwJyBmaWxsPScjZmZmJyAvPgo8L3N2Zz4="); background-repeat: repeat; }


      .cust-diagonal-stripe-3 { background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPScjQTJFRkY1Jy8+CiAgPHBhdGggZD0nTS0xLDEgbDIsLTIKICAgICAgICAgICBNMCwxMCBsMTAsLTEwCiAgICAgICAgICAgTTksMTEgbDIsLTInIHN0cm9rZT0nIzE4NTc1Qycgc3Ryb2tlLXdpZHRoPSczJy8+Cjwvc3ZnPg=="); background-repeat: repeat; }


      .cust-horizontal-stripe-5 { background-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPScjZmZmJyAvPgogIDxyZWN0IHg9JzAnIHk9JzAnIHdpZHRoPScxMCcgaGVpZ2h0PSc1JyBmaWxsPScjQ0YxRDZEJyAvPgo8L3N2Zz4="); background-repeat: repeat; }

      footer {
        background-color: #eee;
        text-align: center;
        padding: 5px;
      }
    </style>
  </head>
  <body>

   <a href="https://github.com/iros/patternfills"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png"></a>

    <header>
      <div id="header_samples">

      </div>

      <h1>Pattern Fills</h1>
      <div class="info">
        Github: <a href="http://github.com/iros/patternfills">
          http://github.com/iros/patternfills</a>
        <br>
        Website: <a href="http://iros.github.io/patternfills/">
          http://iros.github.io/patternfills</a>
      </div>
    </header>

    <p>
      There are many ways to fill the background of a DOM or SVG element, including using solid colors or gradients. If you want to use a repeating pattern of some kind, the easiest way to do so is to create an SVG document that defines it and use it as a pattern fill. SVG images are typically smaller than bitmap images and remain sharp on high-dpi screens. Unlike CSS3 gradients, SVG images are supported on IE9. (source: http://philbit.com/svgpatterns/#whysvg)
    </p>

    <p>
      We are going to be using svg patterns in three ways. Click the following links to see the patterns available and how to use them:

      <ul>
        <li><a href="sample_css.html">CSS Classnames</a></li>
        <li><a href="sample_svg.html">SVG URL Fills</a></li>
        <li><a href="sample_d3.html">Using d3 (which is effectively svg fills)</a></li>
      </ul>

      <strong>See an example using pattern fills: </strong>
      <ul>
        <li><a href="examples/d3.html">Old Timey Chart with d3.js</a></li>
      </ul>
    </p>

    <h2>How do SVG Patterns Work?</h2>

    <p>First an svg pattern needs to be defined. For example
      this pattern generates small circles, each of radius 1px and
      positions them at coordinates <code>1,1</code> like so:

      <br>
      <svg style="padding:10px;" height="100" width="100" class="pattern-swatch">
        <rect style="fill: url(#circles-1) #fff;" x="0" y="0" height="100" width="100">
      </rect></svg>
    </p>

    <script src="https://gist.github.com/iros/d49c0fc8b870059a3c2b.js?file=pattern.svg"></script>

    <p>
      This pattern then needs to be compiled. There are two ways generate a compiled version:
    </p>

    <h3>1. SVG Pattern Definition:</h3>
    <p>
    To define a pattern that can then be used in svg, one must add it to the defs section of an svg container. Note that the SVG pattern we defined above gets translated into a string.
    </p>
    <p>
    <script src="https://gist.github.com/iros/d49c0fc8b870059a3c2b.js?file=pattern_def_sample.html"></script>

    <p>
      This allows us to use the pattern like so:
    </p>
    <p>
      <script src="https://gist.github.com/iros/d49c0fc8b870059a3c2b.js?file=svg_pattern_use.html"></script>
    </p>


    <h3>2. CSS Background Image Url</h3>
    <p>
    To define a pattern that can be used with a classname, one must define a classname where the pattern string is used as the `background-image` url. For example:
    </p>

    <script src="https://gist.github.com/iros/d49c0fc8b870059a3c2b.js?file=pattern.css"></script>

    <p>
      This allows us to use the pattern like so:
      <script src="https://gist.github.com/iros/d49c0fc8b870059a3c2b.js?file=css_pattern_use.html"></script>
    </p>

    <h2>What does this library do:</h2>

    <p>
      Patternfills offers several premade patterns that can be used already.
      You can see them in class name form in <code>public/patterns.css</code>.
    </p>
    <p>
      For the SVG form of the patterns, you should look at <code>public/sample_svg.html</code> to view the actual compiled pattern svg definitions.
    </p>

    <h2>Can I customize the colors?</h2>

    <p>
      Yes! Now you can. For example, all of these patterns were created with
      this library:

      <div class="samples">
        <div class="sample cust-circles-1"></div>
        <div class="sample cust-vertical-stripe-1"></div>
        <div class="sample cust-diagonal-stripe-3"></div>
        <div class="sample cust-horizontal-stripe-5"></div>
      </div>

    </p>

    <h2>Can I use these programatically?</h2>

    <p>
      Yep! If you'd like to use Pattern Fills in your application. You can install patternfills via npm like so:
    </p>

    <p><code>npm install patternfills</code></p>

    <p>
      It comes with an executable that will allow you to produce the CSS classes or the SVG classes and save them to an appropriate file. This might come in handy when you want to integrate patternfills into
      your build process.
    </p>

    <p>

      <ul>
        <li>
          To produce either the css or svg you can run:
          <br>
          <code>./bin/patternfills --format=svg|css</code>
        </li>
        <li>
          You can provide an alternate source pattern directory. This is
          optional.
          <br>
          <code>./bin/patternfills --format=svg|css --source=your/patterns</code>
          <br>
          You'll want to follow a similar folder organization scheme to ours, so
          be sure to look at <code>src/patterns</code>.
        </li>

        <li>
          You can provide a destination file path. Otherwise your output will be piped to <code>stdout</code>.
          <br>
          <code>./bin/patternfills --format=svg|css --dest=your/path</code>
        </li>
      </ul>
    </p>


    <h2>How do I add patterns?</h2>

    <p>
      You can see the development instructions in the readme here:
      <a href="https://github.com/iros/patternfills/blob/master/README.md#modifyingadding-patterns">https://github.com/iros/patternfills/blob/master/README.md#modifyingadding-patterns</a>
    </p>

    <h2>Questions?</h2>

    <p>
      Please get in touch via github issues if you have any questions/requests of this project or contact me (<a href="http://twitter.com/ireneros">@ireneros</a>) via email at irene at bocoup.com.
    </p>

  <svg height="10" width="10" xmlns="http://www.w3.org/2000/svg" version="1.1"> <defs> <pattern id="circles-1" patternUnits="userSpaceOnUse" width="10" height="10"> <image xlink:href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHdpZHRoPScxMCcgaGVpZ2h0PScxMCc+CiAgPHJlY3Qgd2lkdGg9JzEwJyBoZWlnaHQ9JzEwJyBmaWxsPScjZmZmJyAvPgogIDxjaXJjbGUgY3g9IjEiIGN5PSIxIiByPSIxIiBmaWxsPSIjMDAwIi8+Cjwvc3ZnPg==" x="0" y="0" width="10" height="10"> </image> </pattern> </defs> </svg>

    <footer>
       Made with â™¥ at <a href="http://bocoup.com/datavis">Bocoup DataVis</a> by <a href="http://twitter.com/ireneros">Irene Ros</a>.
    </footer>

    <script type="text/javascript">

      // taken from here:
      // http://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array
      function shuffle(array) {
        var currentIndex = array.length, temporaryValue, randomIndex ;

        // While there remain elements to shuffle...
        while (0 !== currentIndex) {

          // Pick a remaining element...
          randomIndex = Math.floor(Math.random() * currentIndex);
          currentIndex -= 1;

          // And swap it with the current element.
          temporaryValue = array[currentIndex];
          array[currentIndex] = array[randomIndex];
          array[randomIndex] = temporaryValue;
        }

        return array;
      }

      var availablePatterns = [<%= patterns %>];
      var samples = d3.select("#header_samples");

      var divBinding = samples.selectAll("div.sample")
        .data(shuffle(availablePatterns));

      var entering = divBinding.enter();
      entering.append("div")
        .attr("class", function(d) {
          return "sample " + d;
        }).html("&nbsp;");

      console.log(entering);

    </script>
  </body>
</html>
